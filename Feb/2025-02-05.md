# TIL Template

## 날짜: 2025-02-05

### 스크럼
- 학습 목표 1 : 패킷트레이서 실습
- 학습 목표 2 : 코테 공부하기
- 학습 목표 3

### 새로 배운 내용
#### 주제 1: ARP 
**ARP 동작 원리**

IP 주소를 이용하여 PC0 → Laptop0으로 ping
PC0, Switch0, Laptop0이 연결된 포트를 확인하는 과정

1. **PC0이 ARP 요청(ARP Request) 패킷을 Switch0으로 전송** (Laptop0의 MAC 주소 요청)
   - 출발지 IP 주소와 MAC 주소: **PC0의 IP 주소와 MAC 주소**
   - 목적지 IP 주소와 MAC 주소: **Laptop0의 IP 주소와 0(알 수 없음)**

2. **Switch0이 나머지 노드들에게 MAC 주소 요청 브로드캐스트**
   - Switch0은 **PC0의 MAC 주소를 저장**
   - 수신한 패킷을 다른 인터페이스의 노드들에게 전달하고 **응답 요청**

3. **Laptop0의 ARP 응답(ARP Reply)**
   - 목적지 IP 주소를 가진 **Laptop0이 PC0의 MAC 주소를 저장**
   - **ARP 응답 패킷을 Switch0에 전달**
   - 출발지 IP 주소와 MAC 주소: **Laptop0의 IP 주소와 MAC 주소**
   - 목적지 IP 주소와 MAC 주소: **PC0의 IP 주소와 MAC 주소**

4. **Switch0이 수신한 패킷 처리**
   - **수신한 패킷을 PC0로 전달**

5. **PC0이 Laptop0의 MAC 주소를 획득**
   - PC0과 Laptop0의 **MAC 주소를 ARP 테이블에 저장**


**ARP를 이용한 MAC 주소 테이블 유지 및 라우팅**

 1. MAC 주소 테이블의 자동 완성과 유지 방법
- 스위치와 노드들은 **ARP 프로토콜**을 통해 반복적으로 MAC 주소를 교환하며 테이블을 자동으로 완성.
- `ping` 등의 패킷이 들어오면 **MAC 주소 테이블을 이용하여 전달**.
- MAC 주소 테이블은 **주기적으로 초기화되고 최신 정보로 갱신**됨.
- **ARP 프로토콜은 짧은 간격으로 반복 실행**되므로, 노드 수가 많은 네트워크에서는 **통신량 증가로 부하 발생** 가능.
- 특히, **스위치가 모든 노드에게 브로드캐스트하는 ARP 요청 패킷**이 문제될 수 있음.

 2. 보안상의 문제
- **모든 노드에 전달된 ARP 요청 패킷에 대해 해당 노드가 아니면 응답하지 않음**.
- 하지만, **악의적인 공격자가 특정 노드의 IP를 MAC 주소와 함께 위조하여 응답**하면,
  - 테이블이 갱신되기 전까지 해당 노드로 가는 모든 패킷이 공격자에게 전달될 위험(ARP 스푸핑).
  
3. MAC 주소를 이용한 라우팅
- **동일한 네트워크(LAN) 내에서는 스위치를 통해서만 통신**.
- 라우터를 통한 **외부 네트워크와의 통신에는 MAC 주소 사용 불가**.
  - **ARP 패킷은 하나의 네트워크에서만 송수신**.
  - LAN을 **논리적으로 분리하기 위해 VLAN을 활용**.


 4. VLAN의 역할
- **내부망을 분리하여 보안성을 강화**.
- **외부망으로부터 내부망을 보호하는 방화벽과 함께 사용**.
 
 종합 정리
- **ARP 프로토콜은 MAC 주소 테이블 자동 완성과 유지에 핵심적인 역할**을 하지만, **브로드캐스트로 인한 부하와 보안 위험(ARP 스푸핑) 문제가 존재**.
- **MAC 주소 기반 통신은 동일 LAN 내에서만 동작**하며, 외부 네트워크와 통신하려면 라우터가 필요.
- **VLAN을 활용하여 논리적 네트워크 분리를 수행**, 보안 및 성능을 최적화할 수 있음.


#### 주제 2: 네트워크 구조도 그리고 실행
**실습 내용**
pc0~2 , server0, laptop0(console용) , switch0, router0~2 세팅
- 라우터 주소 설정
1. 관리자 모드 진입 `enable`
2. 글로벌 모드 진입 `config terminal`
3. 스위치0 인터페이스 모드 진입 `interface fa0/0`  (switch0)
4. ip 주소 할당 `address 203.237.10.254`
5. 인터페이스 할당 `no shut` ,  `exit`
6. router1 인터페이스 모드 진입 `interface se0/3/0` 
7. ip 주소 할당 `ip address 1.1.1.1`
8. 클럭속도 설정(DCE만) `clock rate 64000` (router0 se0/3/0 , se0/3/1 router1 se0/3/1)
9. 인터페이스 할당 `no shut` ,  `exit`
10. router2 인터페이스 모드 진입 `interface se0/3/1` 
11. 클럭속도 설정(DCE만) `clock rate 64000`
12. 인터페이스 할당 `no shut` ,  `exit`
13. router1,2도 이와 같이 반복

- 스위치 ,PC IP 설정
1. pc, server 등 IP 주소 설저으 Default Gateway 설정 (pc0의 경우 203.237.10.1 255.255.255.0, 203.237.10.254)
2. vlan 1 인터페이스 모드 진입  `interface vlan 1`  
3. ip 주소 할당 `ip address 203.237.10.100 255.255.255.0`
4. 인터페이스 할당 `no shut` , `exit`
5. 스위치 포트 활성화  `interface fa0/1` , `no shut`  (1~3 pc0,server,router0)

-라우팅 설정
②번 네트워크 (203.237.20.0/24) → Serial0/3/0 (IP 1.1.1.2)
③번 네트워크 (203.237.30.0/24) → Serial0/3/1 (IP 2.2.2.2)
⑥번 네트워크 (3.3.3.0/30) → Serial0/3/1 또는 Serial0/3/1 → Serial0/3/1

1. route0 라우팅 설정 `ip route 203.237.20.0 255.255.255.0 se0/3/0`
                     `ip route 203.237.30.0 255.255.255.0 2.2.2.2`
                     `ip route 3.3.3.0 255.255.255.252 1.1.1.2`
2. route1 라우팅 설정 ~
2. route2 라우팅 설정 ~


### 오늘의 도전 과제와 해결 방법
- 도전 과제 1: 패킷 트레이서 활용
- 도전 과제 2: 백트래킹 문제 풀기 (16987)
[백준 16987](https://www.acmicpc.net/problem/16987)


### 오늘의 회고
- 패킷 트레이서를 활용한 실습을 진행하면서, 가상 환경에서의 네트워크 구성에 흥미를 갖게 되었다. 남는 시간이 좀 많아서 코딩
테스트 공부를 하였는데 오랜만에 하니까 다 까먹은 것 같다 . 꾸준이 해야 겠다는 생각이 들었다.

### 참고 자료 및 링크
- [풀이] (https://github.com/younghak9905/CodingTest/blob/master/backtracking/back_16987_2.java)
- [실습 내용](https://www.notion.so/adapterz/b67a80ec4f9e487d8432e212c02f636f?pvs=4)
