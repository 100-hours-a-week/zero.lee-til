# TIL Template

## 날짜: 2025-02-04

### 스크럼
- 학습 목표 1 : 패킷트레이서 실습하기
- 학습 목표 2
- 학습 목표 3

### 새로 배운 내용
#### 주제 1: BUS 형 토폴로지 실습
**실습 내용**
1. PC 4개와 스위치 4개를 각각 위에 4개 밑에 4개로 나란히 한다.
2. 위아래로 마주보는 PC와 스위치는 Copper Straight-Through 로 연결하고 인접한 스위치끼리는 Copper Cross-over 로 연결한다.
3. 각각 PC를 192.168.0.1~4로 설정 / 255.255.255.0 통일
4. command prompt에서 ping 날려보기 pc0 -> pc1  `ping 192.168.0.4`

**토폴로지 종류**
1. 버스형 토폴로지 (Bus Topology)
구조: 하나의 중앙 케이블(버스)에 모든 노드가 연결된 형태입니다.
장점:
구성이 간단하고 설치 비용이 저렴합니다.
노드 추가 및 제거가 용이합니다.
단점:
중앙 케이블에 문제가 발생하면 전체 네트워크에 영향을 줍니다.
트래픽이 많아지면 성능이 저하될 수 있습니다.
2. 링형 토폴로지 (Ring Topology)
구조: 각 노드가 양 옆의 노드와 연결되어 고리 형태를 이루는 구조입니다.
장점:
데이터 충돌이 적어 안정적인 전송이 가능합니다.
노드 수가 증가해도 성능 저하가 적습니다.
단점:
한 노드에 문제가 생기면 전체 네트워크에 영향을 줄 수 있습니다.
노드 추가나 제거 시 네트워크를 중단해야 할 수 있습니다.
3. 성형 토폴로지 (Star Topology)
구조: 중앙에 허브나 스위치가 있고, 모든 노드가 이 중앙 장치에 직접 연결된 형태입니다.
장점:
노드의 추가 및 제거가 쉽고, 장애 발생 시 문제 노드만 분리하면 됩니다.
네트워크 관리와 유지보수가 용이합니다.
단점:
중앙 장치에 문제가 발생하면 전체 네트워크가 중단될 수 있습니다.
중앙 장치에 부하가 집중될 수 있습니다.
4. 그물형 토폴로지 (Mesh Topology)
구조: 모든 노드가 서로 직접 연결된 형태로, 완전 그물형과 부분 그물형이 있습니다.
장점:
어떤 노드에 문제가 생겨도 다른 경로로 데이터 전송이 가능합니다.
데이터 전송의 신뢰성과 안정성이 높습니다.
단점:
구성이 복잡하고 설치 비용이 높습니다.
유지보수와 관리가 어렵습니다.
5. 트리형 토폴로지 (Tree Topology)
구조: 계층 구조로, 상위 노드에서 하위 노드로 분기되는 형태입니다.
장점:
네트워크 확장과 관리가 용이합니다.
부분적인 네트워크 장애가 전체에 영향을 미치지 않습니다.
단점:
상위 노드에 문제가 발생하면 하위 노드 전체에 영향을 줄 수 있습니다.
구성과 관리가 복잡할 수 있습니다.

#### 주제 2: VLAN 설정과 tunk
**실습 내용**
- vlan 설정
1. 관리자 모드 진입 `enable`
2. 글로벌 모드 진입 `config terminal`
3. vlan  모드 진입 , 이름 설정  `vlan 2` ,  `name VLAN_2`
4. 종료 `exit`  vlan 설정 확인 `show vlan`

- 스위치0 포트에 vlan 지정  (1~4)
1. 관리자 모드 진입 `enable`
2. 글로벌 모드 진입 `config terminal`
3. 인터페이스 모드 진입 `interface fa0/1`  (스위치 포트 번호)
4. 해당 포트를 VLAN 전용으로 사용함을 선언 `swtichport mode access`
5. VLAN 번호 설정 `swtichport access vlan 2`
6. 종료 `exit`  vlan 설정 확인 `show vlan`   -> 각 VLAN_2 (1,2) , VLAN_3(3,4) 연결

- 트렁크
vlan 별 추가 가능한 vlan id는 1000개이다. 그런데 VLAN을 추가할 때 마다 라인을 추가해야 한다. 또한 스위치가 여러 대인 것도 고려해야 한다.
그래서 이를 해결하기 위해 trunk를 사용한다. trunk는 각 스위치끼리 연결된 라인을 하나로 줄여줄 수 있다.

트렁크는 모든 VLAN 패킷을 통과 시킨다. 단 다른 VLAN 끼리는 통신하지 못한다.
만약 switch0과 switch1이 각각 fa0/5 - fa0/3 , fa0/6 - fa0/4로 연결되어 있었다면 fa0/5와 fa0/3을 trunk로 연결하여 라인 1개로 대체 가능하다.
1. 관리자 모드 진입 `enable`
2. 글로벌 모드 진입 `config terminal`
3. 인터페이스 모드 진입 `interface fa0/5` (스위치 끼리 연결된 포트 번호)
4. 트렁크 모드 설정 `switchport mode trunk`  (반대쪽 스위치 포트도 설정)

다른 스위치로 묶여 있는 pc 이지만 같은 VLAN이라면 통신이 가능해진다.

#### 주제 3: inter-VLAN

**실습 내용**

다른 VLAN 끼리도 통신이 가능하도록 라우터 추가 할 수 있다. 이 때 한 인터페이스에 2개의 IP 주소를 할당할 수는 없기 때문에 라우터의 
fa0/0이 VLAN_2와 VALN_3의 게이트웨이 역할을 할 수가 없다. 이를 위해 서브 인터페이스(가상 인터페이스)로 해결할 수 있다. 

1. 라우터0 추가 -> switch1 fa0/4와 라우터0 fa0/0 연결
2. fa0/0 활성화 `interface fa0/0`  , `no shutdown`
3. 서브 인터페이스 fa0/0.2 설정 `interface fa0/0.2`  vlan 2와 연결 `encapsulation dot1Q 2`
4. IP 주소 할당 `ip address 203.237.20.254 255.255.255.0`  (vlan 2 : 203.237.20.1~3) ,  (vlan 3 : 203.237.30.1~3)
5. 서브 인터페이스 fa0/0.2 설정 `interface fa0/0.3`  vlan 2와 연결 `encapsulation dot1Q 3`
6. IP 주소 할당 `ip address 203.237.30.254 255.255.255.0`  (vlan 2 : 203.237.20.1~3) ,  (vlan 3 : 203.237.30.1~3)
7. switch1 인터페이스 설정 (fa0/4 trunk 모드 설정 ) `interface fa0/4`  , `switchport mode trunk`
8. 각 PC에 게이트웨이 설정 (PC0~PC2) -> 203.237.20.254 ,(Laptop0~2) -> 203.237.30.254 
9. 통신 확인

다른 VLAN 끼리도 통신 가능하다.

### 오늘의 도전 과제와 해결 방법
- 도전 과제 1: 교재 실습 다 해보기
 교재에는 trunk 연결을 한쪽만 연결하는 것만 보여줘서 통신이 안되는 이슈가 있어서 트러블 슈팅하였다. 

### 오늘의 회고
- 실습이 오래 걸렸지만 그만큼 트러블 슈팅하면서 많이 배운 것 같다. 가상 환경에서의 시뮬레이션을 돌려보고 하는 것이 재미있었다.

### 참고 자료 및 링크
- [패킷트레이서 실습 1](https://www.youtube.com/watch?v=fWjoHas-c2o)
- [실습 내용](https://www.notion.so/adapterz/2-ab30517e0a224cc1b8fc88770ad21afa?pvs=4#d648b24d5be547dfb5b2d83c944a6cd8)
